% X = load('test.mat');
% x=X.x;
% y=X.y;
X = [
1.49440713036255,0.705324547282026,0.938278606440911,1.95382743541872,0.357460273394949,2.72282626247825,1.45060605484372,1.78464277755565,-0.0660010660801333,1.10203581445867,2.96399699364368,1.68994922564365,0.611126870220250,0.282169911292597,0.842870231472481,3.75568335217121,1.37426190950637,2.67963169430351,1.27979017514241,2.29306074199485,2.09597316116645,0.390956295201807,2.92547176327377,3.03291418429426,-0.0916556068763805,2.81266652693734,2.86023002263636,1.73221239086565,4.76822074647180,1.49656190460251,1.61491694637698,1.79380529431407,1.96067129522423,2.38126497404675,1.45039903207398,-0.918781831417688,1.97208012851124,3.76365645888530,2.87969265820504,2.13008160769456,2.57562653590094,0.332454113350829,3.67144892749257,1.80241535017933,2.54769785247788,2.39018735095028,3.19012617151835,1.00358934528139,2.42563365647475,2.56781785181995,0.672264601718296,2.59442450387858,2.87633177526394,-0.210627295064888,2.78283629195694,0.552963415801181,1.77106769339334,1.05768255489574,1.83134663923612,1.24744224790731,1.65727949138920,4.12038194498295,2.05897555761778,2.70404540873047,0.147537557926936,2.04225973785230,0.968199955632941,1.70453229125016,3.86451240141221,2.33773724176853,1.80717805943162,0.908085189511970,0.996973922216012,1.91236594611435,1.49577435092390,2.46979481767885,1.65515403261109,2.81710176903731,1.77787337457599,1.81852459460804,-1.00087521597500,1.60326490949638,1.00851191794359,0.944389827897410,1.59936857054540,2.11779376392267,1.10282058815003,0.399367877629574,1.10565739200997,1.28408890248339,0.653564570559239,2.37576982396695,0.637397985671222,0.911106997693947,3.44752587484301,3.52785430654647,3.21170807829214,2.48457439124860,2.96359727297191,3.26640356449564,2.82725031641976,2.11585649117679,2.50315418598439,1.18007163557746,3.29161184647409,1.87017083570197,2.64306259245269,2.71412664755553,2.03941990477500,1.77974822957955,2.14186985552375,2.31750525726753,3.00512911895431,2.48765179566296,1.21274432111588,2.11116866825515,3.59938170854018,1.30417755666647,1.28137443694335,2.75008032558929,2.93386603560906,1.67417973716343,0.219332519723888,0.334591355528561,3.53435426443337,0.957634613533443,3.47645884149151,3.09535422723583,3.06662576959157,2.07102873414050,2.84822974145341,-0.188099867628201,1.70054125657034,2.54052086895725,2.17092221736556,0.212304842286431,0.530578726791279,2.63214607709271,2.41882040588024,0.799303257431457,3.21816926396327,2.92646186786349,3.02968414253682,2.55164154883966,1.04964495050076,1.80257792811120,3.49410999054731,2.93447863053427,2.16388339051863,2.08958373633038,-2.79001449318193,-3.85295097468669,-3.98913020365147,-2.14604930624529,-3.30430221111122,-2.75199740463316,-2.66489123403376,-1.88060174168528,-1.95947757487067,-2.22529156433604,-4.19450106280417,-3.45057086647270,-3.84637828161554,-3.50185320494717,-0.923591327070952,-1.96385856298750,-3.51933411933818,-2.96556135807918,-3.11124459960616,-2.71099163015550,-3.09264491371589,-2.91894701056844,-4.32116379553989,-2.11624491258806,-2.24069850658081,-2.43622141311711,-2.08981942570158,-2.58166180708427,-4.60170606631393,-3.90165520907760,-2.77110731679194,-2.38692752129665,-4.50087053196170,-2.03769554364136,-3.45684523014144,-4.14351455463875,-2.12852657493046,-2.10704307516553,-2.21564515562622,-3.36073803108131,-2.29658074063603,-3.47277303369554,-3.57478667057182,-1.77084739589251,-3.36775715812356,-3.48011459031935,-2.27104909785937,-3.33925692137413,-2.96632541906496,-3.90431590262136,1.36578620341853,0.535494870788370,2.51753972592148,1.76194550403413,1.26226114691192,2.44868995350622,2.78486539798161,3.96266480366007,1.31975098194236,1.84919433608403,1.27408686400185,1.29038823617086,2.16434301440678,-0.233335374971900,1.88062270086255,4.11194957839327,1.27657000758798,1.24200548463882,3.38992857720736,2.18068559318504,2.15989776189132,3.79429484782040,1.34366106114482,1.06698675928217,2.42131438136544,1.89384769761908,2.07324843608663,1.39017121462550,1.57961679504741,1.01748636060096,0.857052597944038,1.98046168573185,2.09242377319227,1.65687301418133,2.47859236959800,2.69734241655601,2.06845846541887,1.97445317890063,1.98339218631249,1.41046604754337,1.92923309615592,3.41421117906295,3.16544830220526,0.927201121662242,1.95780630009834,2.90667606406198,1.98110395161480,1.28047075993496,1.36078909826506,3.10888596901374,3.44822927432301,1.88502802938567,2.31594819716115,2.32324011325652,0.729520372850755,2.54997689999081,1.36590550818322,0.780766675075690,2.55069105030188,2.39939847542356,1.91498946049320,1.32234216075855,2.14544413707165,2.32688370149584,2.91789166056037,2.10249555181658,2.77616049743547,1.98957447674839,2.48529565988621,0.808985141282798,3.15126611142136,2.42831527182421,0.694749304246177,2.80365030385178,0.832894875881755,2.42222177331514,2.21802961359511,0.825936201982279,1.44828282761936,3.22201554012743,2.45322185016847,1.09522880271209,2.11428386156853,1.93736384713562,1.79392961947258,2.53631616964051,2.40621434337270,2.06355361098087,2.03073761378921,1.85451384657420,4.24555290810307,1.19494969760238,-0.198449909491552,2.70610238929745,1.69605274111428,1.07550926384621,1.80476655370552,2.10978530390022,1.25793014529768,2.52389603427130
-4.96076620107044,-3.62706972122370,-3.43662993865815,-3.62793786144863,-3.53114947094194,-1.87081153185129,-2.22876023202884,-2.47790345254864,-2.43803770036150,-4.07699154796806,-2.46179790900570,-3.53146235317736,-3.17548440994793,-3.70228666601554,-3.40163252709651,-4.81682106379320,-2.18766055630249,-5.50185187632327,-1.03585058604154,-4.14825614771308,-0.609092265834141,-4.69019949988986,-0.559186051662877,-2.79591216095261,-3.04534374998512,-3.07726989880354,-2.47266745617707,-4.47052423718751,-3.00321054963729,-4.33477428858644,-3.28516863582866,-4.38580045137288,-5.23393885985900,-2.35206856190190,-3.89703603506614,-2.81239542536164,-2.95251229055342,-2.12502790216466,-2.54212367392441,-1.93780493859441,-3.61590627192581,-3.30633727226629,-2.27916069568720,-5.10589638017701,-2.27217749627010,-2.27716280387774,-4.13335563790016,-4.39633696211890,-1.16359938511058,-3.28357316595626,-4.46607872011431,-0.708229256400915,-4.48871617725884,-3.61583185687763,-4.10409738633691,-3.09644050938968,-3.35905651772370,-1.62900494880959,-1.97029885081751,-2.84668276313596,-4.60883474223321,-3.64672441112803,-1.08646289446392,-3.47096501471717,-2.90832829909185,-2.85781819457349,-1.06603524615684,-0.611209524430454,-2.47751461256266,-4.07390946981196,-1.75338174474709,-4.23058517949012,-3.05326739792030,-0.925633065303900,-4.42004078450533,-3.27716222579552,-2.09972114557093,-3.90274121742035,-2.91156353726743,-4.20925124567612,-4.10106942971927,-2.39773698043873,-1.19783708222785,-2.25258881808733,-1.85960721830827,-1.81867886832060,-4.03517844863420,-2.00303461391426,-4.33846084426359,-1.29046235722799,-3.16970523803993,-1.92139391842635,-2.23917496398291,-2.29877942213928,-3.48991647656216,-3.12614543278795,-4.42802822298209,-3.26990012602008,-1.76106196421847,-1.32882386897564,-2.77464019603359,-2.11857364047185,-3.82004552727944,-3.35001782699956,-2.54518224672073,-4.08204452306655,-3.34741710214370,-3.33096198049334,-5.67858919694652,-2.97894577740011,-2.18223033013921,-4.67899509940993,-2.77273048563958,-3.65062706988629,-3.22868296139326,-3.22360325189535,-2.74434387370019,-2.46642541670615,-2.18215211798367,-3.63140554616282,-2.35979619670411,-4.72888948281275,-3.83593259254254,-2.93884798120398,-3.03653454803620,-3.73608147059362,-4.10719147406232,-2.54283011469768,-3.21299007002366,-3.58715119051857,-4.41108230986069,-3.27929667079316,-3.49118007242457,-2.80018083418711,-5.13500784469351,-5.02215680345165,-2.93295792692431,-2.92222436823345,-2.87286464177614,-2.09425443242072,-3.70162413774727,-5.45059211345920,-0.118021074245148,-3.42792362408620,-2.72502378245083,-1.99468748883399,-2.90041655494612,-1.62941374055081,-5.10618192021491,-2.26572296972826,2.37434452580425,3.03706341718558,3.75122813320186,2.19923561030640,3.38698243308666,3.19000105956581,2.73082652783982,3.89938652081834,2.37663233921938,2.63741923965597,2.98111236293680,2.41829369108550,1.99790374240610,2.22455093166225,3.16696257907618,1.43384423439068,3.39991603477673,2.60676827173528,2.75572404658134,2.79821628153693,3.21051716379801,3.68875373107480,2.81188852647140,3.33928742829413,3.88364385703193,3.52757874068630,3.53866862104268,2.37778204621201,2.48905594410083,3.60633988751956,3.23781247589595,4.27696165604669,3.25436121834416,2.39502635281882,2.61915898578579,1.77113294383791,3.75547109171113,2.31975515041370,1.48539962806339,3.06516343126791,2.43594542474754,2.45347935793906,3.37281411904852,2.23668064679871,1.16566811317733,3.01798755848885,4.24889004856434,2.96508520474260,4.16653192319673,3.40327114993901,1.36855673604818,2.53847285126652,1.73125004074476,2.83189770109919,0.339435879251323,2.75830597086686,2.98715647229564,1.37600989244060,1.32092922101548,2.57055892591684,3.89655965410379,0.318406585088935,2.10813172418926,4.48606997351109,2.86369854412253,3.21206153201720,2.72430547499135,1.19796470239505,1.34436200770739,2.43949689885899,1.03055892544401,2.78138066224119,1.07570238678700,1.35086140447589,2.48416644495579,0.543505791660279,3.10278035155062,2.40245306831167,1.35355732726201,3.43554526732001,3.12556875363906,1.46855144313589,2.63488282382175,4.78382307316416,0.134215514402829,0.651306001221918,0.0387628164595615,1.55914185577189,0.349999012179566,2.00537195453265,2.51309206750260,2.13025630628872,2.93422373885241,3.13362165016466,2.24722581275679,4.01923190940701,2.10283480803443,2.48085628973098,-0.977380356590823,3.43509491379745,-1.27150886979635,1.73453689160014,3.76010885142794,3.53129121261370,0.143556135288857,2.42206823800256,4.52836507452415,0.891764883933577,5.18673280227334,0.950817430704153,1.72411971198700,1.81800352292494,2.72390896046670,0.731941818746333,1.05854927534026,1.32259369550702,2.82264564059646,0.310307465257516,2.64994477089584,4.50391232130830,1.83340924610904,1.44355550840007,2.70438116857506,2.33401322311456,2.70447138226528,2.14560988075925,-0.985837068090067,2.11783030322735,1.92065261926488,2.53766709889411,3.19357042660859,1.85150408611375,1.95062146250074,1.03498056673989,2.02792043850161,1.24921224902596,0.389678312693537,0.425375683282936,0.979400060334195,1.47360044535750,0.00939278589866821,4.02334612718501,4.58501106811128,1.61425973928161,2.86769086389329,1.56920320812563,2.23887569495680,2.48313569176381,2.80592518611560,-0.00957857676754870
];
figure();
net = selforgmap([3 3]);
net = configure(net,X);
plotsompos(net)
net.trainParam.epochs = 20;
net = train(net,X);
plotsompos(net)
% plot(X(1,:),X(2,:),'+r')
x = [0.5;0.3];
y = net(x)
